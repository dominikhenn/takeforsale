(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[84704],{892477:function(){},484704:function(o,t,e){"use strict";e.r(t),e.d(t,{default:function(){return c}});var n=e(256192);e(242972);let{State:r,Utils:a,Service:i}=Shopware,{format:s}=a;var c={template:'{% block sw_order_create_promotion_modal %}\n<sw-modal\n    :title="$tc(\'sw-order.promotionModal.labelTitle\')"\n    class="sw-order-create-promotion-modal"\n    @modal-close="onCancel"\n>\n    {% block sw_order_create_promotion_modal_body %}\n    {% block sw_order_create_promotion_modal_message %}\n    <p>{{ hasNoAutomaticPromotions ? $tc(\'sw-order.promotionModal.messageNoItems\') : $tc(\'sw-order.promotionModal.message\') }}</p>\n    {% endblock %}\n\n    {% block sw_order_create_promotion_modal_promotions %}\n    <div\n        v-for="(item, index) in cartAutomaticPromotionItems"\n        :key="index"\n        class="sw-order-create-promotion-modal__promotion"\n    >\n        {% block sw_order_create_promotion_modal_promotion_name %}\n        <strong class="sw-order-create-promotion-modal__promotion-name">{{ item.label }}</strong>\n        {% endblock %}\n\n        {% block sw_order_create_promotion_modal_promotion_description %}\n        <p>{{ getDescription(item) }}</p>\n        {% endblock %}\n    </div>\n    {% endblock %}\n    {% endblock %}\n\n    {% block sw_order_create_promotion_modal_footer %}\n    <template #modal-footer>\n        {% block sw_order_create_promotion_modal_footer_button_cancel %}\n        <sw-button\n            size="small"\n            @click="onCancel"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        {% block sw_order_create_promotion_modal_footer_button_save %}\n        <sw-button\n            size="small"\n            variant="primary"\n            :is-loading="isLoading"\n            :disabled="hasNoAutomaticPromotions"\n            @click="onSave"\n        >\n            {{ $tc(\'sw-order.promotionModal.buttonDisable\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n',compatConfig:Shopware.compatConfig,emits:["close","save"],props:{currency:{type:Object,required:!0},salesChannelId:{type:String,required:!1,default:null}},data(){return{isLoading:!1}},computed:{cart(){return r.get("swOrder").cart},cartAutomaticPromotionItems(){return this.cart.lineItems.filter(o=>"promotion"===o.type&&""===o.payload.code)},hasNoAutomaticPromotions(){return 0===this.cartAutomaticPromotionItems.length}},methods:{onCancel(){this.$emit("close")},onSave(){this.disableAutomaticPromotions()},disableAutomaticPromotions(){this.isLoading=!0;let o={salesChannelId:this.salesChannelId};i("cartStoreService").disableAutomaticPromotions(this.cart.token,o).then(()=>{this.isLoading=!1,this.$emit("save")})},getDescription(o){let{totalPrice:t}=o.price,{value:e,discountScope:r,discountType:a,groupId:i}=o.payload,c=`sw-order.createBase.textPromotionDescription.${r}`;if(r===n.rO.CART&&a===n.Tu.ABSOLUTE&&Math.abs(t)<e)return this.$tc(`${c}.absoluteUpto`,0,{value:s.currency(Number(e),this.currency.isoCode),totalPrice:s.currency(Math.abs(t),this.currency.isoCode)});let l=a===n.Tu.PERCENTAGE?e:s.currency(Number(e),this.currency.isoCode);return this.$tc(`${c}.${a}`,0,{value:l,groupId:i})}}}},242972:function(o,t,e){var n=e(892477);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[o.id,n,""]]),n.locals&&(o.exports=n.locals),(0,e(370534).A)("431d0c80",n,!0,{})}}]);